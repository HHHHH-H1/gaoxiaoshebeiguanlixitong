# 故障报修模块功能说明

## 📋 功能概述

故障报修模块按照用户角色提供不同的功能权限，满足学生、教师提交报修申请，查看报修进度，以及管理员修改维修进度的需求。

## 👥 用户角色与权限

### 🎓 学生/教师权限
- ✅ **提交报修申请**：可以为设备提交故障报修申请
- ✅ **查看自己的报修记录**：只能查看自己提交的报修工单
- ✅ **查看报修进度**：实时了解自己报修工单的维修进度
- ✅ **查看维修详情**：可以查看故障描述、维修方案等详细信息

### 👨‍💼 管理员权限
- ✅ **查看所有报修工单**：可以查看系统中所有的报修记录
- ✅ **分配维修人员**：为待分配的工单分配合适的维修人员
- ✅ **更新维修进度**：修改工单状态和维修进度
- ✅ **维修统计分析**：查看维修统计数据和报告
- ✅ **导出报告**：导出维修记录和统计报告

## 🚀 主要功能

### 1. 统计卡片显示
- **管理员视图**：显示"待处理"、"维修中"、"已完成"、"总计"
- **学生/教师视图**：显示"我的待处理"、"我的维修中"、"我的已完成"、"我的总计"

### 2. 提交报修申请（学生/教师）
**申请表单包含：**
- 设备选择（只能选择运行中的设备）
- 故障类型（硬件故障、软件故障、操作异常、性能下降、其他问题）
- 紧急程度（低、中、高、紧急）
- 故障描述（详细描述故障现象）
- 联系电话
- 故障图片上传（最多3张，单张不超过2MB）

### 3. 工单列表管理
**搜索筛选功能：**
- 工单编号搜索
- 设备名称搜索
- 故障类型筛选
- 维修状态筛选
- 紧急程度筛选

**表格显示内容：**
- 工单编号
- 设备名称
- 故障类型（带颜色标签）
- 紧急程度（带颜色标签）
- 维修状态（带颜色标签）
- 报修人/维修员（根据角色显示不同）
- 报修时间
- 维修进度（进度条显示）

### 4. 维修进度管理（管理员）
**操作功能：**
- **分配维修员**：为待分配工单分配维修人员
- **更新进度**：修改维修状态和进度百分比
- **查看详情**：查看完整的报修和维修信息

### 5. 详情查看
**详情信息包含：**
- 基本信息（工单编号、设备信息、故障类型等）
- 报修人和维修员信息
- 时间信息（报修时间、预计完成时间、实际完成时间）
- 维修进度显示
- 故障描述
- 维修方案（如有）
- 故障图片（如有）

## 🎯 维修状态流程

```
待分配 → 维修中 → 待验收 → 已完成 → 已关闭
   ↓        ↓        ↓        ↓
  0%      50%      80%     100%
```

**状态说明：**
- **待分配**：新提交的报修申请，等待分配维修人员
- **维修中**：已分配维修人员，正在进行维修
- **待验收**：维修完成，等待用户验收
- **已完成**：验收通过，维修工单完成
- **已关闭**：工单关闭（可能因为重复、无效等原因）

## 🎨 界面特点

### 响应式设计
- 支持不同屏幕尺寸
- 移动端友好的界面布局

### 用户体验优化
- 角色相关的界面显示
- 直观的进度条和状态标签
- 清晰的操作按钮和权限控制

### 视觉设计
- 渐变色卡片设计
- 颜色编码的状态标签
- 统一的图标风格

## 🔧 技术实现

### 前端技术
- Vue 3 + Composition API
- Element Plus UI 组件库
- 响应式数据管理
- 角色权限控制

### 后端技术
- Node.js + Express
- Sequelize ORM
- MySQL 数据库
- 基于角色的访问控制

### 安全特性
- 会话认证
- 权限验证
- 数据访问控制
- 输入验证和过滤

## 📱 使用方法

### 学生/教师使用流程
1. 登录系统后进入"故障报修"页面
2. 点击"提交报修申请"按钮
3. 填写报修表单并提交
4. 在列表中查看自己的报修记录和进度
5. 点击"查看详情"了解维修详情

### 管理员使用流程
1. 登录系统后进入"故障报修"页面
2. 查看所有用户的报修工单
3. 为待分配工单点击"分配维修员"
4. 为维修中工单点击"更新进度"
5. 导出维修报告和统计数据

## 🎯 设计目标达成

✅ **学生、教师提交报修申请** - 通过简单直观的表单提交报修
✅ **查看报修进度** - 实时显示维修进度和状态
✅ **管理员修改维修进度** - 完整的维修流程管理功能

系统实现了角色分离、权限控制和用户友好的界面设计，满足了不同用户群体的需求。 